# 动态规划 (Dynamic Programming)


## 算法简介


动态规划（Dynamic Programming）的基本思想是，将原始问题拆分为多个重叠子问题，然后从最简单的子问题开始逐步求解，保存每个子问题的解，最终利用已解决的子问题的解来求解更复杂的子问题，直到解决整个原始问题。通过这种逐步递推的方式，动态规划能够避免重复计算，并大大提高算法的效率。

在动态规划中，通常使用状态转移方程（state transfer equation），来描述父问题和子问题之间的联系与求解方法。在确定最小子问题的解，或者说边界条件（boundary condition）后，通过状态转移方程，就能逐步求得复杂问题的解。通过每次求解后保存当前子问题的解，可以避免重复计算，提高效率。

动态规划算法中主要包含以下两个核心部分：
1. **状态转移方程（State Transfer Equation）**
2. **状态缓存（State Cache），或者说 DP 数组**


### 应用场景

动态规划（Dynamic Programming）是一种解决具有“重叠子问题” 和 “最优化子结构”特性的问题的思路或方法，而非具体的算法。“重叠子问题”特性，指的是原始问题可以拆解为多个可以重叠的子问题。“最优子结构”特性，指的是原始问题可以分解为多个子问题，并且可以基于子问题的最优解来求解原始问题的最优解。

### 解题模式

1. 确定 DP 状态转移方程：
	1. 拆解原始问题，将原始问题（或者原始问题求解路径上的某个子问题）拆解为多个之间存在重叠部分（或者说相互依赖）的子问题和父问题，并根据这些问题之间的依赖关系，构建 DP 状态转移方程（State Transfer Equation）。
2. 构建 DP 数组：
	1. 使用 DP 数组的下标来表示这些问题的范围，使用 DP 数组的元素来表示这些相互重叠（或者说相互依赖）的问题的解。
3. 确定 DP 数组的遍历方向：
	1. 根据 DP 状态转移方程，通过绘图将 DP 数组可视化，并给问题解（即元素）之间的依赖链建模，用于确定依赖链中的初始问题，以及问题的依赖链，即 DP 数组的遍历方向。 
	2. 一维 DP 数组元素，可以表示为一行并列的方块，可以通过在元素之间绘制连接线条来确定元素之间的依赖链，即遍历方向。
	3. 二维 DP 数组元素，则可以表示为排列为一个正方形的多个方块，可以通过在元素之间绘制连接线条来确定元素之间的依赖链，即遍历方向。
4. 初始化 DP 数组：
	1. 初始化元素默认值：根据具体的问题描述，使用问题的默认解，来初始化 DP 数组元素的值，如有些问题中默认解为-1（可能代表无解时的默认值），即数组元素初始值-1，有些默认解为 0，即数组元素初始值为 0。
	2. 初始化数组边界：根据之前确定的 DP 数组遍历顺序，初始化依赖链中最初始问题的解，后续需要基于这些初始问题的解，逐步依赖链后端的问题的解。
5. 遍历 DP 数组：
	1. 遍历 DP 数组，依据之前确定的 DP 数组遍历方向，求解 DP 数组中每个元素的值，遍历结束后，返回最终结果（有时候也需要边遍历边统计结果）。
	2. 必要时可以打印 DP 数组，确定 DP 元素值符合状态转移方程。


### 与分治的区别和联系

动态规划和分治（Divide and Conquer）的主要区别在于，分治的主要思想是将大问题拆解为互不重叠的子问题进行求解，而动态规划可以处理具备“重叠子问题” 特性的问题。

动态规划和递归（Recursion）算法的主要区别在于，动态规划会使用空间换时间，缓存子问题的解，当后续遇到相同子问题时能直接获取到对应的解。

动态规划算法可以既是迭代（Iteration）算法，也可以是递归（Recursion）算法，主要具备前文提到的核心两个部分，都可以说是动态规划算法。

## 经典例题

### 基础题目

509 斐波那契数
70 爬楼梯
746 使用最小花费爬楼梯
62 不同路径
63 不同路径 2
343
96

### 背包问题

#### 0/1 背包问题

416
1049
494
474

### 完全背包

518
377
70
322
279
139


### 打家劫舍

198 打家劫舍
213 打家劫舍 2
337 打家劫舍 3


### 股票问题

121
122
123
188
309
714


### 子序列问题

#### 不连续子序列

300 最长上升子序列
1143 最长公共子序列
1035 不相交的线

#### 连续子序列

674 最长连续递增序列
718 最长重复子数组
53 最大子序列之和

#### 回文字符串

5 最长回文字符子串
647 回文字符子串数量
516 最长回文子序列


### 正则表达式

[LeetCode 10. Regular Expression Matching](https://leetcode.com/problems/regular-expression-matching/)

## 参考链接
1. [Wiki-动态规划](https://zh.wikipedia.org/wiki/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92)
2. [BiliBili-从此再也不怕动态规划了，动态规划解题方法论大曝光](https://www.bilibili.com/video/BV13Q4y197Wg)
3. [BiliBili-动态规划，字符串性质决定了 DP 数组的定义 | LeetCode：647. 回文子串](https://www.bilibili.com/video/BV17G4y1y7z9)
4. [代码随想录](https://programmercarl.com/other/algo_pdf.html)
