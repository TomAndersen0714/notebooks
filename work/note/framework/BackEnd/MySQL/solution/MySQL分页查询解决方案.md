# MySQL分页查询解决方案



## 方案一：先查主键，后查数据（待验证）

依据：
1. 通过减少返回的字段，可以显著的提升查询效率
2. 通过命中主键，可以显著提升查询效率

方案：先查询页面数据的所有主键，然后基于页面主键查询再去查询数据，类似于二级索引


## 方案二：获取页面起始主键，加速查询

前提：
1. 主键ID的数据类型，必须是数字类型

依据：
1. 通过命中主键，可以显著提升查询效率

方案1：
1. 实践的思路就是取上一次查询结果的ID最大值，作为过滤条件，并按照主键ID排序（不然分页排序顺序会错乱）
方案2：
1. 通过计算求取当前页面的起始主键ID，作为过滤条件，但前提是



## 方案三：采用ElasticSearch作为搜索引擎

当数据量越来越大的时候，尤其是出现分库分表的数据库，以上通过主键 ID 进行过滤查询，效果可能会不尽人意，例如订单数据的查询，这个时候比较好的解决办法就是将订单数据存储到 elasticSearch 中，通过 elasticSearch 实现快速分页和搜索，效果提升也是非常明显。


## 参考链接

1. [一次显著的MySQL大表分页查询优化，从2.35s到18ms！](https://mp.weixin.qq.com/s/s16EYc0-4It0NfioXMjz3w)