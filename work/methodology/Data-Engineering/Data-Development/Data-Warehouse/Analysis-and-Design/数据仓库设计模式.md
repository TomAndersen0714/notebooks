# 数据仓库设计模式


## ETL 设计模式

数仓设计是设计整体关键模型，而 ETL 设计即是设计数据管道的具体实现方式，属于数仓设计中重要的一环。

[ETL设计模式](work/methodology/Data-Engineering/Data-Development/ETL/ETL设计模式.md)


## 数据仓库设计模式


### 数仓分层模式



[阿里集团大数据建设-OneData 体系](https://mp.weixin.qq.com/s/hgwOVtDH87vlKBRgzJ5FQQ)
[微信-五分钟学大数据-最强最全面的数仓建设规范指南（纯干货建议收藏）](https://mp.weixin.qq.com/s/knlITkxLvHRy3Aq5RFXl_w)
[微信- 漫话架构之美-构建完美数仓建设指南](https://mp.weixin.qq.com/s/bMEsFTx-rvMsEQeoTrdc6w)

原始数据层（贴源层） ODS：
全称 Operational Data Store，ODS 层是最接近数据源的一层，从数据源（api、数据库等）将数据同步数仓中，中间不做任何处理操作，数据 1: 1 复制数据源。

公共数据层 CDM
1. DIM：全称 Dimension，用于存放维度数据，在 dwd 层做维度退化。
2. DWD：全称 Data Warehouse Detail，是数仓明细数据层，对 ODS 层的数据进行关联，清洗，维度退化（将维度表中维度数据放入明细表中），转换等操作，按主题域聚集。
3. DWS：全称 Data WareHouse Service，按照主题域、颗粒度（例如员工、部门）划分，按照周期粒度、维度聚合形成指标较多的宽表，用于提供后续的业务查询，数据应用，最重要一点需要在 DWS 层完成指标口径统一及沉淀。

应用数据层 ADS：全称 Applacation data service，按照应用域聚集，颗粒度划分（例如员工、部门）划分，按照应用主题将对应数据标签补充至应用层，最终形成用户画像及专项应用。


## 数据表设计模式

### 数据权限

数据库级权限、表级权限、行级权限、字段级权限

通过上游权限中心限制
1. 数据库元数据加载到权限中心，权限中心管理用户权限和审计用户查询

通过数据库模型限制
1. 通过视图（View）控制字段查询
2. 通过给指标设置额外的权限等级字段控制


## 参考链接
1. [大数据技术与数仓-该如何设计数仓的汇总层(DWS)](https://mp.weixin.qq.com/s?__biz=MzU2ODQ3NjYyMA==&mid=2247486511&idx=1&sn=5a959ce84ea93d41e51efc7b61e855f3)
2. [微信- 漫话架构之美-构建完美数仓建设指南](https://mp.weixin.qq.com/s/bMEsFTx-rvMsEQeoTrdc6w)
3. [从ODS到ADS，详解数仓分层](https://mp.weixin.qq.com/s/S--_uIFa1grnPolu_INvaw)
4. [阿里集团大数据建设-OneData 体系](https://mp.weixin.qq.com/s/hgwOVtDH87vlKBRgzJ5FQQ)
5. [微信-五分钟学大数据-最强最全面的数仓建设规范指南（纯干货建议收藏）](https://mp.weixin.qq.com/s/knlITkxLvHRy3Aq5RFXl_w)
