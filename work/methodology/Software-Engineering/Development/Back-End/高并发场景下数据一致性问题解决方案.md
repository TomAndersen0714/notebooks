# 高并发场景下数据一致性问题解决方案


1. 强一致性：所有节点都始终看到相同的数据。这是最理想的解决方案，但也是最难实现的。
2. 弱一致性：允许某些节点看到旧数据，但在大多数情况下，所有节点都能看到最新的数据。这是比较容易实现的解决方案，但它可能导致数据不一致的问题。
3. 最终一致性：所有节点最终都会看到最新的数据，但可能需要一些时间。这是介于强一致性和弱一致性之间的解决方案


## 单节点数据一致性问题



## 分布式数据一致性问题

分布式系统是由多个节点组成的系统，每个节点都存储着一份数据。当一个节点更新数据时，其他节点也需要更新数据，以保证数据的一致性。

### 解决方案


#### DataBase



#### Redis

锁不可重入

TTL 锁可能超时，而非 TTL 锁可能死锁

不支持锁请求的重试

##### Redisson

支持 Map 结构，可实现可重入锁

支持锁请求的重试


#### Zookeeper



#### MQ

[微信-阿里巴巴中间件-如何通过事务消息保障抢购业务的分布式一致性？](https://mp.weixin.qq.com/s/XA-CsdBxgbXdsIjKOdyoGQ)

## 参考链接
1. https://mp.weixin.qq.com/s/uex9zkf2uPeTp56cfv4dHA
2. https://mp.weixin.qq.com/s/-vWZCiTb3uI7Q5oVx5y4MQ