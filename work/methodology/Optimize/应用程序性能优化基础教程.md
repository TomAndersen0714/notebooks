# 应用程序性能优化基础教程


需要高度抽象，加上合理比喻

## 开销大于资源

问题：应用程序某些时间段存在资源不足，导致程序运行缓慢，甚至退出。
方案：降低单位时间最大资源开销，用时间换空间。

假设程序执行流程是自底向上的一个树形结构，那么在不增加资源开销的前提下，优化的思路可以分为以下几种（按优先级排序）：
1. 单节点优化
	1. 同一个节点中，部分任务可以提前处理，以减小后续任务的数据量，则可以在单节点任务中下沉此数据处理任务，不用增加新节点
2. 水平拆分优化
	1. 多个节点中无重复计算的，则水平拆分为多个执行逻辑相同但任务量不同的小任务，但不生成新节点
3. 垂直拆分优化
	1. 多个节点有重复计算的任务，则抽离合并重复处理任务并下沉为新节点，多个节点共同依赖此新节点
	2. 单节点中，如果任务复杂度很高，则应该采取垂直拆分，高内聚低耦合，降低任务的复杂度，提升可读性

## 开销小于资源

问题：应用程序某些时间段资源开销，远小于资源余额。
方案：增大程序的资源开销，物尽其用，用空间换时间。